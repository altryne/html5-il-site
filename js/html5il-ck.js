var e=angular.module("html5il",["ngResource","meetupAPIService"]);e.config(function(e,t){t.html5Mode(!0);e.when("/login",{templateUrl:"/partials/login.html",controller:"LoginCtrl"}).when("/welcome",{templateUrl:"/partials/welcome.html",controller:"WelcomeCtrl"}).when("/join_the_group",{templateUrl:"/partials/join.html",controller:"JoinCtrl"}).when("/feedback/:first_name",{templateUrl:"/partials/feedback.html",controller:"FeedbackCtrl"})});var t,n=window.location.host=="html5il.com"?{key:"2vhfkjrdi9e2lashik72u7m54h",redir_url:"http://html5il.com/auth.html"}:{key:"hc9et1ihd9ec8eo843oqh11trc",redir_url:"http://html5il.org/auth.html"},r=function(e,t){e.authStatus=!1;e.checkAuthWithLocation=function(){a(t)};e.checkAuthWithLocation()},i=function(e){e.authorize=function(){var e="https://secure.meetup.com/oauth2/authorize?client_id="+n.key+"&response_type=token"+"&redirect_uri="+n.redir_url;win=f(e,"auth_window",400,380)}},s=function(e,t,n,r){n.getData("members",{},function(e){t.user=e[0];t.user.first_name=t.user.name.split(" ")[0]},!0);n.getData("profiles",{group_id:"6218572"},function(e){e.length==0&&r.path("/join_the_group")},!0);n.getData("events",{group_id:"6218572",page:"20",order:"time",desc:"true",fields:"self"},function(t){console.log(t);e.events=t},!0);e.popup=function(){var e="https://docs.google.com/spreadsheet/embeddedform?formkey=dHU2SzRvS2dGZW1pdEdmcGktVWRNdFE6MQ&field_0="+t.user.first_name;win=f(e,"feedback_window",768,900)}},o=function(e,t,n){e.group_urlname="HTML5-IL";e.group_id="6218572";e.join=function(t){t.preventDefault();n.$save({access_token:$.cookie("auth"),group_id:e.group_id,group_urlname:e.group_urlname},function(e){console.log(e)},function(){console.log("was an error!");window.location="http://meetup.com/HTML5-IL"});return!1}},u=function(e,t){t.getData("members",{},function(t){e.user=t[0];e.user.first_name=e.user.name.split(" ")[0]},!0)},a=function(e){var t=$.cookie("auth");if(t!=null){console.log("cookies exists");e.path("/welcome")}else{e.path("/login");console.log("cookies no!")}},f=function(e,t,n,r,i,s){leftPos=screen.availWidth?(screen.availWidth-n)/2:50;topPos=screen.availHeight?(screen.availHeight-r)/2:50;settings="width="+n+",height="+r+",top="+topPos+",left="+leftPos+",scrollbars="+i+",location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no";var o=window.open(e,t,settings);return o},l=function(e){parsed_hash=$.parseParams(e);c(parsed_hash.access_token,parsed_hash.expires_in);var t=$("#main").scope();t.$apply(function(){t.checkAuthWithLocation()});win&&win.close()},c=function(e,n){t=e;if(n){var r=new Date;r.setHours(r.getHours()+n/60/60);$.cookie("auth",e,{expires:r,path:"/"})}};